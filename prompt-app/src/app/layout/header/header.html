<header class="app-header">
  <mat-toolbar color="primary" class="main-toolbar">
    <a (click)="reloadAndNavigate()" style="cursor: pointer;" class="app-title">
      <mat-icon class="logo-icon">smart_toy</mat-icon>
      <span>PromptNous</span>
    </a>

    <span class="toolbar-spacer"></span>

    <button mat-icon-button (click)="toggleMobileMenu()" class="mobile-menu-button">
      <mat-icon *ngIf="!isMobileMenuOpen">menu</mat-icon>
      <mat-icon *ngIf="isMobileMenuOpen">close</mat-icon>
    </button>

    <nav class="main-nav" [class.nav-open]="isMobileMenuOpen">
      <ul>
        <li>
          <a routerLink="/search" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" mat-button matTooltip="Ara" (click)="isMobileMenuOpen = false">
            <mat-icon>search</mat-icon>
            <span class="nav-text">Ara</span>
          </a>
        </li>
        <li>
          <a routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" mat-button matTooltip="Ana Sayfa" (click)="isMobileMenuOpen = false">
            <mat-icon>home</mat-icon>
            <span class="nav-text">Ana Sayfa</span>
          </a>
        </li>
        <li>
          <a routerLink="/prompts" routerLinkActive="active" mat-button matTooltip="En Çok Beğenilenler" (click)="isMobileMenuOpen = false">
            <span class="nav-text">En Çok Beğenilenler</span>
          </a>
        </li>

        <ng-container *ngIf="isLoggedIn$ | async">
          <li>
            <a routerLink="/my-prompts" routerLinkActive="active" mat-button matTooltip="Kendi Promptlarım" (click)="isMobileMenuOpen = false">
              <mat-icon>folder_shared</mat-icon>
              <span class="nav-text">Promptlarım</span>
            </a>
          </li>
          <li>
            <a routerLink="/favorites" routerLinkActive="active" mat-button matTooltip="Favori Promptlar" (click)="isMobileMenuOpen = false">
              <mat-icon>favorite</mat-icon>
              <span class="nav-text">Beğenilerim</span>
            </a>
          </li>
          <li>
            <a (click)="goToProfile()" style="cursor: pointer;" mat-button matTooltip="Profilim">
              <mat-icon>account_circle</mat-icon>
              <span class="nav-text">{{ currentUserUsername$ | async }}</span>
            </a>
          </li>
          <li>
            <a (click)="logout()" style="cursor: pointer;" mat-button matTooltip="Çıkış Yap">
              <mat-icon>exit_to_app</mat-icon>
              <span class="nav-text">Çıkış Yap</span>
            </a>
          </li>
        </ng-container>

        <ng-container *ngIf="!(isLoggedIn$ | async)">
          <li><a routerLink="/login" routerLinkActive="active" mat-button (click)="isMobileMenuOpen = false">Giriş Yap</a></li>
          <li><a routerLink="/register" routerLinkActive="active" mat-button (click)="isMobileMenuOpen = false">Kayıt Ol</a></li>
        </ng-container>
      </ul>
    </nav>
  </mat-toolbar>
</header>
